
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DBN Alphonso | Buy Authentic Ratnagiri & Devgad Hapus Online</title>
    <meta name="description" content="Direct from Vashi APMC. 100% Carbide-free, naturally ripened Alphonso mangoes. Lock your 2026 pre-order today!">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                gold: '#C9A24D',
                green: '#1F5E43',
                yellow: '#F2B705',
                red: '#B63A3A',
                'grape-green': '#7FB069',
                'pom-red': '#8E1E2D',
              }
            },
            fontFamily: {
              sans: ['Plus Jakarta Sans', 'sans-serif'],
              serif: ['Playfair Display', 'serif'],
            },
            animation: {
              'spin-slow': 'spin 12s linear infinite',
            }
          }
        }
      }
    </script>
    <style>
      body {
        background-color: #fffdf9;
        overflow-x: hidden;
      }
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #fffdf9;
      }
      ::-webkit-scrollbar-thumb {
        background: #C9A24D;
        border-radius: 10px;
      }
      .luxury-shadow {
        box-shadow: 0 30px 60px rgba(31, 94, 67, 0.08);
      }
    </style>
    
    <!-- Import Map for ES Modules -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.263.1",
        "react-router-dom": "https://esm.sh/react-router-dom@6.15.0",
        "gsap": "https://esm.sh/gsap@3.12.2",
        "gsap/ScrollTrigger": "https://esm.sh/gsap@3.12.2/ScrollTrigger"
      }
    }
    </script>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
      import React, { useState, useEffect, useRef } from 'react';
      import ReactDOM from 'react-dom/client';
      import { HashRouter, Routes, Route, Link, useLocation, useNavigate, useParams } from 'react-router-dom';
      import { 
        ShoppingBag, Menu, X, Facebook, Instagram, Twitter, Mail, Phone, MapPin, 
        Package, Truck, ShieldCheck, Award, Zap, Star, Heart, ArrowRight, ArrowLeft, 
        Plus, Minus, Search, MessageSquare, Send, Users 
      } from 'lucide-react';
      import gsap from 'gsap';
      import { ScrollTrigger } from 'gsap/ScrollTrigger';

      // Register GSAP Plugin
      gsap.registerPlugin(ScrollTrigger);

      // --- Data Constants ---
      const FRUITS = [
        {
          id: 'mango-alphonso-ratnagiri',
          name: 'Ratnagiri Alphonso (Grade A1+)',
          category: 'Mango',
          scientificName: 'Authentic Ratnagiri Hapus',
          season: 'Pre-order 2026 Live',
          description: 'The legendary "King of Mangoes" from the heart of Ratnagiri. Each fruit is hand-picked, weighed (275g-300g), and naturally ripened in traditional hay boxes.',
          price: 1350,
          unit: 'Dozen',
          image: 'https://images.unsplash.com/photo-1553279768-865429fa0078?auto=format&fit=crop&q=80&w=1000',
          color: '#F2B705',
          benefits: ['Zero Carbide Guaranteed', 'GI Tagged Traceability', 'Gala-Grade Selection']
        },
        {
          id: 'mango-alphonso-devgad',
          name: 'Devgad Hapus (GI Tagged)',
          category: 'Mango',
          scientificName: 'Devgad Alphonso',
          season: 'April - June 2026',
          description: 'Famous for its thinner skin and saffron-hued pulp. Devgad mangoes are known for their intense, lingering aroma that fills an entire room.',
          price: 1450,
          unit: 'Dozen',
          image: 'https://images.unsplash.com/photo-1591073113125-e46713c829ed?auto=format&fit=crop&q=80&w=1000',
          color: '#F2B705',
          benefits: ['100% Organic Ripening', 'Intense Saffron Aroma', 'Thick Fiberless Pulp']
        },
        {
          id: 'apple-himachal-royal',
          name: 'Himachal Royal Delicious',
          category: 'Apple',
          scientificName: 'Malus Domestica',
          season: 'September - November',
          description: 'Crisp, sweet, and incredibly juicy apples sourced from high-altitude orchards in Himachal Pradesh.',
          price: 280,
          unit: 'kg',
          image: 'https://images.unsplash.com/photo-1560806887-1e4cd0b6bcd6?auto=format&fit=crop&q=80&w=1000',
          color: '#B63A3A',
          benefits: ['High Altitude Harvest', 'Wax-Free Coating', 'Rich in Fiber']
        },
        {
          id: 'grapes-nashik-black',
          name: 'Nashik Jumbo Black Grapes',
          category: 'Grapes',
          scientificName: 'Vitis Vinifera',
          season: 'January - April',
          description: 'Seedless, jumbo black grapes from the wine capital of India. Known for their balanced sweetness and firm snap.',
          price: 180,
          unit: 'kg',
          image: 'https://images.unsplash.com/photo-1537640538966-79f369b41e8f?auto=format&fit=crop&q=80&w=1000',
          color: '#4B0082',
          benefits: ['Zero Pesticide Residue', 'Export Grade Bunches', 'Naturally Sweet']
        }
      ];

      // --- Components ---

      const Logo = ({ className = '', size = 'md' }) => {
        const sizes = {
          sm: 'h-8',
          md: 'h-14',
          lg: 'h-24'
        };
        const logoUrl = "https://raw.githubusercontent.com/icreatepixels/DBNFRUITS/faf4fb74b284bbeadcb90fc7abeac9f59a61a107/dbntext.png";
        return (
          <div className={`flex items-center justify-center group ${className}`}>
            <div className={`relative ${sizes[size]} w-auto flex items-center justify-center transition-all duration-500 group-hover:scale-[1.03]`}>
              <img src={logoUrl} alt="DBN Fruits" className="h-full w-auto object-contain block drop-shadow-sm" />
            </div>
          </div>
        );
      };

      const Navbar = () => {
        const [isOpen, setIsOpen] = useState(false);
        const location = useLocation();

        useEffect(() => {
          setIsOpen(false);
        }, [location]);

        return (
          <nav className="fixed w-full z-50 bg-white/95 backdrop-blur-md border-b border-brand-gold/10 shadow-sm">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="flex justify-between items-center h-20 md:h-24">
                <Link to="/" className="flex items-center transition-transform duration-300 hover:scale-[1.01] shrink-0">
                  <Logo size="md" />
                </Link>
                <div className="hidden md:flex items-center space-x-10">
                  <Link to="/" className={`font-bold transition-all uppercase text-[10px] tracking-[0.3em] ${location.pathname === '/' ? 'text-brand-gold' : 'text-brand-green hover:text-brand-gold'}`}>Home</Link>
                  <Link to="/products" className={`font-bold transition-all uppercase text-[10px] tracking-[0.3em] ${location.pathname === '/products' ? 'text-brand-gold' : 'text-brand-green hover:text-brand-gold'}`}>Season's Best</Link>
                  <Link to="/about" className={`font-bold transition-all uppercase text-[10px] tracking-[0.3em] ${location.pathname === '/about' ? 'text-brand-gold' : 'text-brand-green hover:text-brand-gold'}`}>Our Story</Link>
                  <Link to="/contact" className={`font-bold transition-all uppercase text-[10px] tracking-[0.3em] ${location.pathname === '/contact' ? 'text-brand-gold' : 'text-brand-green hover:text-brand-gold'}`}>Contact</Link>
                  <div className="h-4 w-px bg-brand-gold/20 mx-2"></div>
                  <Link to="/cart" className="relative p-2 text-brand-green hover:text-brand-gold transition-colors group">
                    <ShoppingBag className="w-5 h-5 group-hover:rotate-12 transition-transform" />
                    <span className="absolute top-0 right-0 bg-brand-gold text-white text-[8px] w-3.5 h-3.5 rounded-full flex items-center justify-center font-bold border border-white">0</span>
                  </Link>
                </div>
                <div className="md:hidden flex items-center space-x-4">
                  <Link to="/cart" className="relative p-2 text-brand-green">
                    <ShoppingBag className="w-6 h-6" />
                    <span className="absolute top-0 right-0 bg-brand-gold text-white text-[8px] w-3.5 h-3.5 rounded-full flex items-center justify-center font-bold border border-white">0</span>
                  </Link>
                  <button onClick={() => setIsOpen(!isOpen)} className="text-brand-green p-2 focus:outline-none" aria-label="Toggle Menu">
                    {isOpen ? <X className="w-8 h-8" /> : <Menu className="w-8 h-8" />}
                  </button>
                </div>
              </div>
            </div>
            <div className={`fixed inset-0 top-20 bg-white z-40 transition-transform duration-300 md:hidden ${isOpen ? 'translate-x-0' : 'translate-x-full'}`}>
              <div className="px-8 py-10 space-y-6 flex flex-col items-center text-center">
                <Link to="/" className="text-sm font-bold text-brand-green uppercase tracking-[0.4em] py-4 w-full border-b border-gray-50">Home</Link>
                <Link to="/products" className="text-sm font-bold text-brand-green uppercase tracking-[0.4em] py-4 w-full border-b border-gray-50">Season's Best</Link>
                <Link to="/about" className="text-sm font-bold text-brand-green uppercase tracking-[0.4em] py-4 w-full border-b border-gray-50">Our Story</Link>
                <Link to="/contact" className="text-sm font-bold text-brand-green uppercase tracking-[0.4em] py-4 w-full border-b border-gray-50">Contact</Link>
              </div>
            </div>
          </nav>
        );
      };

      const Footer = () => {
        const googleMapsUrl = "https://www.google.com/maps/search/?api=1&query=N-1005+APMC+Fruit+Market+Turbhe+Navi+Mumbai+400705";
        return (
          <footer className="bg-brand-green text-white pt-20 pb-12">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="grid grid-cols-1 md:grid-cols-4 gap-12 mb-16">
                <div className="col-span-1 md:col-span-1">
                  <Link to="/" className="inline-block mb-6 transition-transform hover:scale-105">
                    <Logo size="lg" className="items-start" />
                  </Link>
                  <p className="text-white/50 leading-relaxed mb-8 text-xs font-medium max-w-xs">
                    Curating the world's most exquisite seasonal harvests from our heritage orchards. Delivering premium quality globally from our Turbhe APMC station.
                  </p>
                  <div className="flex space-x-4">
                    <a href="https://instagram.com/dbnfruits" target="_blank" rel="noopener noreferrer" className="w-8 h-8 rounded-full border border-white/10 flex items-center justify-center hover:bg-brand-gold hover:border-brand-gold transition-all group"><Instagram className="w-4 h-4 text-white group-hover:text-brand-green" /></a>
                    <a href="https://facebook.com/dbnfruits" target="_blank" rel="noopener noreferrer" className="w-8 h-8 rounded-full border border-white/10 flex items-center justify-center hover:bg-brand-gold hover:border-brand-gold transition-all group"><Facebook className="w-4 h-4 text-white group-hover:text-brand-green" /></a>
                    <a href="https://twitter.com/dbnfruits" target="_blank" rel="noopener noreferrer" className="w-8 h-8 rounded-full border border-white/10 flex items-center justify-center hover:bg-brand-gold hover:border-brand-gold transition-all group"><Twitter className="w-4 h-4 text-white group-hover:text-brand-green" /></a>
                  </div>
                </div>
                <div>
                  <h4 className="text-brand-gold text-[9px] font-bold uppercase tracking-[0.3em] mb-8">Discovery</h4>
                  <ul className="space-y-4 text-[10px] font-bold uppercase tracking-widest text-white/60">
                    <li><Link to="/products" className="hover:text-brand-gold transition-colors">The Harvest</Link></li>
                    <li><Link to="/about" className="hover:text-brand-gold transition-colors">Our Legacy</Link></li>
                    <li><Link to="/contact" className="hover:text-brand-gold transition-colors">Inquiry</Link></li>
                    <li><Link to="/contact" className="hover:text-brand-gold transition-colors">Wholesale</Link></li>
                  </ul>
                </div>
                <div>
                  <h4 className="text-brand-gold text-[9px] font-bold uppercase tracking-[0.3em] mb-8">Assurance</h4>
                  <ul className="space-y-4 text-[10px] font-bold uppercase tracking-widest text-white/60">
                    <li><Link to="/about#quality" className="hover:text-brand-gold transition-colors">Quality Grade</Link></li>
                    <li><Link to="/about#shipping" className="hover:text-brand-gold transition-colors">Export Terms</Link></li>
                    <li><Link to="/about#privacy" className="hover:text-brand-gold transition-colors">Data Privacy</Link></li>
                    <li><Link to="/about#returns" className="hover:text-brand-gold transition-colors">Returns</Link></li>
                  </ul>
                </div>
                <div>
                  <h4 className="text-brand-gold text-[9px] font-bold uppercase tracking-[0.3em] mb-8">Contact</h4>
                  <ul className="space-y-5 text-white/70">
                    <li className="flex items-start space-x-3"><MapPin className="w-4 h-4 text-brand-gold shrink-0 mt-0.5" /><a href={googleMapsUrl} target="_blank" rel="noopener noreferrer" className="text-xs font-medium hover:text-brand-gold transition-colors">N-1005, APMC, Fruit Market,<br/>Turbhe, Navi-Mumbai-4000705</a></li>
                    <li className="flex items-center space-x-3"><Phone className="w-4 h-4 text-brand-gold shrink-0" /><a href="tel:+917400310443" className="text-xs font-medium hover:text-brand-gold transition-colors">+91 74003 10443</a></li>
                    <li className="flex items-center space-x-3"><Mail className="w-4 h-4 text-brand-gold shrink-0" /><a href="mailto:abhishek.gujar1202@gmail.com" className="text-xs font-medium hover:text-brand-gold transition-colors">abhishek.gujar1202@gmail.com</a></li>
                  </ul>
                </div>
              </div>
              <div className="border-t border-white/10 pt-10 flex flex-col md:flex-row justify-between items-center text-white/30 text-[9px] font-bold tracking-[0.2em] uppercase gap-4">
                <p>&copy; {new Date().getFullYear()} DBN Fruits Luxury Export. All Rights Reserved.</p>
                <div className="flex items-center gap-2"><span>Crafted by</span><a href="https://dbn.engineering" target="_blank" rel="noopener noreferrer" className="text-brand-gold hover:text-white transition-colors">DBN Engineering</a></div>
              </div>
            </div>
          </footer>
        );
      };

      // --- Pages ---

      const Home = () => {
        const containerRef = useRef(null);
        const heroImageRef = useRef(null);
        const mangoes = FRUITS.filter(f => f.id.includes('mango'));

        useEffect(() => {
          document.title = "DBN Alphonso | Buy Authentic Ratnagiri & Devgad Hapus Online";
          const ctx = gsap.context(() => {
            const tl = gsap.timeline();
            tl.fromTo(heroImageRef.current, { scale: 1.2, opacity: 0 }, { scale: 1, opacity: 1, duration: 2.5, ease: "expo.out" })
              .from(".hero-text", { y: 60, opacity: 0, stagger: 0.2, duration: 1.5, ease: "power4.out" }, "-=2");

            const sections = gsap.utils.toArray('section');
            sections.forEach((section) => {
              gsap.from(section.querySelectorAll('.reveal-on-scroll-header'), {
                scrollTrigger: { trigger: section, start: "top 80%", toggleActions: "play none none none" },
                y: 40, opacity: 0, duration: 1, ease: "power3.out"
              });
            });

            ScrollTrigger.batch(".reveal-item", {
              onEnter: (elements) => { gsap.from(elements, { autoAlpha: 0, y: 50, stagger: 0.15, duration: 1.2, ease: "power3.out", overwrite: true }); },
              start: "top 85%"
            });

            ScrollTrigger.batch(".feature-card", {
              onEnter: (elements) => { gsap.from(elements, { scale: 0.9, opacity: 0, y: 30, stagger: 0.1, duration: 0.8, ease: "back.out(1.7)", overwrite: true }); },
              start: "top 90%"
            });
          }, containerRef);
          return () => ctx.revert();
        }, []);

        return (
          <div ref={containerRef} className="overflow-hidden bg-[#fffdf9]">
            <section className="relative min-h-[85vh] flex items-center pt-24">
              <div className="absolute inset-0 z-0 overflow-hidden">
                <div ref={heroImageRef} className="w-full h-full relative">
                  <img src="https://images.unsplash.com/photo-1591073113125-e46713c829ed?auto=format&fit=crop&q=80&w=1920" className="w-full h-full object-cover grayscale-[0.05]" alt="Mangoes at Vashi" />
                  <div className="absolute inset-0 bg-gradient-to-r from-white via-white/80 to-transparent"></div>
                </div>
              </div>
              <div className="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full pb-16">
                <div className="max-w-4xl flex flex-col items-start">
                  <span className="hero-text inline-block px-3 py-1 rounded-full bg-brand-green text-brand-gold font-bold text-[8px] mb-5 uppercase tracking-[0.3em] shadow-lg border border-brand-gold/10">Vashi APMC Direct Export</span>
                  <h1 className="hero-text text-4xl md:text-6xl font-serif font-bold text-brand-green mb-5 leading-tight">The Gold Standard <br/>of Alphonso.</h1>
                  <p className="hero-text text-base text-gray-700 mb-8 leading-relaxed max-w-lg font-medium">We are the first hands to touch the harvest. 100% Carbide-free, legacy ripened, and export-graded for your home.</p>
                  <div className="hero-text flex flex-wrap gap-5">
                    <Link to="/products" className="px-8 py-3.5 bg-brand-green text-white rounded-full font-bold hover:bg-brand-green/90 transition-all shadow-lg flex items-center group text-[9px] uppercase tracking-widest">
                      Pre-order 2026 Harvest <ArrowRight className="ml-2 w-3.5 h-3.5 group-hover:translate-x-1 transition-transform text-brand-gold" />
                    </Link>
                  </div>
                </div>
              </div>
            </section>
            <section className="py-16 bg-white border-y border-brand-gold/10">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                  {[
                    { title: "Zero Carbide", desc: "Naturally ripened in traditional hay boxes for 100% safety.", icon: ShieldCheck },
                    { title: "GI Tagged", desc: "100% Traceable to authentic orchards of the Konkan coast.", icon: Award },
                    { title: "Expert Graded", desc: "Inspected by multi-generational specialists at our Vashi Gala.", icon: Zap }
                  ].map((usp) => (
                    <div key={usp.title} className="reveal-item flex items-start space-x-4">
                      <div className="w-10 h-10 bg-brand-gold/10 rounded-lg flex items-center justify-center shrink-0"><usp.icon className="w-5 h-5 text-brand-gold" /></div>
                      <div><h4 className="text-[11px] font-bold text-brand-green mb-0.5 uppercase tracking-wider">{usp.title}</h4><p className="text-gray-500 text-[10px] leading-relaxed">{usp.desc}</p></div>
                    </div>
                  ))}
                </div>
              </div>
            </section>
            <section className="py-20 bg-[#fffdf9]">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="text-center mb-12 reveal-on-scroll-header">
                  <h2 className="text-3xl md:text-5xl font-serif font-bold text-brand-green mb-3">Premium Quality Grade A1+</h2>
                  <p className="text-gray-500 text-xs max-w-lg mx-auto uppercase tracking-widest">The elite selection from the Vashi Wholesale Market.</p>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                  {mangoes.slice(0, 4).map((mango) => (
                    <div key={mango.id} className="reveal-item group bg-white rounded-3xl p-5 md:p-6 luxury-shadow flex flex-col md:flex-row items-center border border-brand-gold/10 hover:border-brand-gold/20 transition-all duration-500 gap-6">
                      <div className="w-full md:w-1/2 aspect-square overflow-hidden rounded-2xl shadow-sm"><img src={mango.image} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700" alt={mango.name} /></div>
                      <div className="w-full md:w-1/2">
                         <span className="text-[8px] font-bold text-brand-gold uppercase tracking-[0.2em] block mb-1.5">Export Graded</span>
                         <h3 className="text-lg md:text-xl font-bold text-brand-green mb-2 font-serif leading-tight">{mango.name}</h3>
                         <p className="text-gray-500 mb-5 text-[11px] leading-relaxed line-clamp-2">{mango.description}</p>
                         <div className="flex items-center justify-between">
                           <span className="text-base font-bold text-brand-green font-serif">₹{mango.price}<span className="text-[8px] text-gray-400 font-normal">/{mango.unit}</span></span>
                           <Link to={`/product/${mango.id}`} className="px-4 py-2 bg-brand-gold text-white rounded-md hover:bg-brand-green transition-all shadow-sm font-bold uppercase tracking-widest text-[8px]">View Harvest</Link>
                         </div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </section>
            <section className="py-20 bg-brand-green relative overflow-hidden">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-white">
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                  <div className="reveal-on-scroll-header">
                    <h2 className="text-3xl md:text-5xl font-serif font-bold mb-5 leading-tight">Wholesale Direct <br/>to Your Society.</h2>
                    <p className="text-white/80 mb-8 text-sm leading-relaxed max-w-md">Why pay retail for luxury? We provide bulk crates at market rates for housing societies in Mumbai & Navi Mumbai.</p>
                    <div className="space-y-4">
                      <div className="feature-card flex items-center space-x-3"><div className="w-8 h-8 bg-white/10 rounded-md flex items-center justify-center border border-white/20"><Users className="w-4 h-4 text-brand-gold" /></div><span className="text-[10px] font-bold uppercase tracking-widest">Society Bulk (20+ Crates)</span></div>
                      <div className="feature-card flex items-center space-x-3"><div className="w-8 h-8 bg-white/10 rounded-md flex items-center justify-center border border-white/20"><Package className="w-4 h-4 text-brand-gold" /></div><span className="text-[10px] font-bold uppercase tracking-widest">Corporate Gifting</span></div>
                    </div>
                  </div>
                  <div className="reveal-item bg-white p-8 rounded-3xl shadow-xl">
                    <h3 className="text-xl font-bold mb-3 text-brand-green font-serif">Pre-Order Price Lock</h3>
                    <p className="text-gray-500 mb-6 text-[11px] leading-relaxed">Secure your 2026 harvest pricing today. We guarantee the first arrivals of the season from the Ratnagiri belt.</p>
                    <Link to="/contact" className="block w-full py-3.5 bg-brand-gold text-white text-center rounded-xl font-bold hover:bg-brand-green transition-all uppercase tracking-[0.2em] text-[9px] shadow-md">Contact Our Gala</Link>
                  </div>
                </div>
              </div>
            </section>
          </div>
        );
      };

      const Products = () => {
        const [activeTab, setActiveTab] = useState('All');
        const [searchTerm, setSearchTerm] = useState('');
        const containerRef = useRef(null);

        const filteredFruits = FRUITS.filter(fruit => {
          const matchesTab = activeTab === 'All' || fruit.category === activeTab;
          const matchesSearch = fruit.name.toLowerCase().includes(searchTerm.toLowerCase()) || fruit.category.toLowerCase().includes(searchTerm.toLowerCase());
          return matchesTab && matchesSearch;
        });

        useEffect(() => {
          const ctx = gsap.context(() => {
            gsap.from(".products-header", { y: 40, opacity: 0, duration: 1, ease: "power3.out", stagger: 0.1 });
            ScrollTrigger.batch(".product-card", {
              onEnter: (elements) => { gsap.from(elements, { autoAlpha: 0, y: 50, scale: 0.95, stagger: 0.1, duration: 0.8, ease: "power2.out", overwrite: true }); },
              start: "top 95%"
            });
          }, containerRef);
          return () => ctx.revert();
        }, [activeTab, searchTerm]);

        return (
          <div ref={containerRef} className="pt-32 pb-20 min-h-screen bg-[#fffdf9]">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="mb-12 text-center">
                <span className="products-header text-brand-gold font-bold tracking-[0.2em] text-[8px] uppercase block mb-3">Seasonal Discovery</span>
                <h1 className="products-header text-3xl md:text-5xl font-serif font-bold text-brand-green mb-3">The Harvest Collection</h1>
                <p className="products-header text-gray-500 max-w-md mx-auto text-xs font-medium leading-relaxed uppercase tracking-widest">Hand-selected, export-graded fruits direct from our APMC hub.</p>
              </div>
              <div className="products-header flex flex-col items-center gap-6 mb-16">
                <div className="flex p-1 bg-white rounded-2xl border border-brand-gold/10 shadow-sm overflow-x-auto whitespace-nowrap max-w-full">
                  {['All', 'Mango', 'Apple', 'Grapes'].map((tab) => (
                    <button key={tab} onClick={() => setActiveTab(tab)} className={`px-8 py-3 rounded-xl text-[9px] uppercase tracking-[0.2em] font-bold transition-all duration-300 ${activeTab === tab ? 'bg-brand-green text-brand-gold shadow-lg shadow-brand-green/20' : 'text-brand-green/30 hover:text-brand-green'}`}>{tab}</button>
                  ))}
                </div>
                <div className="relative group w-full max-w-2xl px-4 md:px-0">
                  <Search className="absolute left-8 md:left-6 top-1/2 -translate-y-1/2 text-brand-gold/50 w-4 h-4" />
                  <input type="text" placeholder="Search our heritage orchards..." value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className="w-full pl-14 pr-8 py-5 bg-white border border-brand-gold/10 rounded-2xl focus:outline-none focus:ring-1 focus:ring-brand-gold shadow-sm text-sm font-medium transition-all focus:shadow-md" />
                </div>
              </div>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                {filteredFruits.length > 0 ? (
                  filteredFruits.map((fruit) => (
                    <div key={fruit.id} className="product-card group bg-white rounded-[32px] overflow-hidden border border-brand-gold/5 luxury-shadow hover:border-brand-gold/20 transition-all duration-700">
                      <Link to={`/product/${fruit.id}`} className="block relative aspect-square overflow-hidden">
                        <img src={fruit.image} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-1000" alt={fruit.name} />
                        <div className="absolute top-5 right-5"><div className="bg-white/90 backdrop-blur-md px-4 py-1.5 rounded-full text-[8px] font-bold uppercase tracking-widest text-brand-green border border-brand-gold/10 shadow-sm">{fruit.category}</div></div>
                      </Link>
                      <div className="p-8 text-center">
                        <div className="mb-5"><Link to={`/product/${fruit.id}`} className="text-xl font-serif font-bold text-brand-green group-hover:text-brand-gold transition-colors block mb-1.5">{fruit.name}</Link><p className="text-[9px] text-brand-green/40 uppercase tracking-[0.15em] font-bold">{fruit.scientificName}</p></div>
                        <div className="pt-6 border-t border-brand-gold/5 flex items-center justify-between"><div><span className="text-2xl font-bold text-brand-green font-serif">₹{fruit.price}</span><span className="text-gray-400 text-[10px] ml-1.5">/ {fruit.unit}</span></div><Link to={`/product/${fruit.id}`} className="px-6 py-2.5 bg-brand-gold text-white rounded-xl font-bold uppercase tracking-[0.1em] text-[9px] hover:bg-brand-green transition-all shadow-md">View</Link></div>
                      </div>
                    </div>
                  ))
                ) : (
                  <div className="col-span-full py-20 text-center"><p className="text-gray-400 font-serif italic text-lg">No fruits found in this harvest season.</p></div>
                )}
              </div>
            </div>
          </div>
        );
      };

      const ProductDetail = () => {
        const { id } = useParams();
        const navigate = useNavigate();
        const [quantity, setQuantity] = useState(1);
        const containerRef = useRef(null);
        const imageRef = useRef(null);
        const fruit = FRUITS.find(f => f.id === id);

        useEffect(() => {
          if (!fruit) { navigate('/products'); return; }
          const ctx = gsap.context(() => {
            gsap.from(".detail-animate", { y: 30, opacity: 0, duration: 1.2, stagger: 0.1, ease: "power3.out" });
            gsap.from(imageRef.current, { scale: 1.05, opacity: 0, duration: 2, ease: "power2.out" });
          }, containerRef);
          return () => ctx.revert();
        }, [id, fruit, navigate]);

        if (!fruit) return null;

        return (
          <div ref={containerRef} className="pt-24 lg:pt-32 min-h-screen bg-[#fffdf9]">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-6">
              <Link to="/products" className="inline-flex items-center text-brand-green/60 hover:text-brand-gold transition-colors font-bold uppercase text-[9px] tracking-widest group"><ArrowLeft className="w-3.5 h-3.5 mr-2 group-hover:-translate-x-1 transition-transform" />Back to Selection</Link>
            </div>
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20">
              <div className="grid grid-cols-1 lg:grid-cols-2 gap-10 lg:gap-16 items-start">
                <div className="relative lg:sticky lg:top-40 order-1">
                  <div className="absolute -top-10 -left-10 w-[110%] h-[110%] blur-[100px] opacity-[0.06] pointer-events-none rounded-full" style={{ backgroundColor: fruit.color }}></div>
                  <div ref={imageRef} className="relative aspect-square rounded-[32px] lg:rounded-[40px] overflow-hidden luxury-shadow border-[6px] lg:border-[8px] border-white z-10">
                    <img src={fruit.image} className="w-full h-full object-cover transition-transform duration-1000 hover:scale-105" alt={fruit.name} />
                    <div className="absolute bottom-4 left-4 lg:bottom-6 lg:left-6"><span className="px-4 py-1.5 lg:px-6 lg:py-2 bg-brand-green/90 backdrop-blur-md rounded-full text-[8px] lg:text-[9px] font-bold text-brand-gold shadow-lg uppercase tracking-[0.2em] border border-brand-gold/20">{fruit.season}</span></div>
                  </div>
                </div>
                <div className="flex flex-col order-2">
                  <div className="mb-3 detail-animate"><span className="text-brand-gold font-bold tracking-[0.2em] uppercase text-[9px]">Legacy Harvest Quality</span></div>
                  <h1 className="text-3xl md:text-5xl font-serif font-bold text-brand-green mb-4 detail-animate leading-tight">{fruit.name}</h1>
                  <p className="text-base lg:text-lg text-brand-green/40 italic mb-6 lg:mb-8 detail-animate font-serif">{fruit.scientificName}</p>
                  <div className="flex items-center space-x-4 mb-8 lg:mb-10 detail-animate">
                      <div className="flex text-brand-gold">{[...Array(5)].map((_, i) => <Star key={i} className="w-3.5 h-3.5 lg:w-4 lg:h-4 fill-current" />)}</div>
                      <span className="text-gray-400 font-bold uppercase text-[8px] lg:text-[9px] tracking-widest">Global Export Grade A</span>
                  </div>
                  <div className="detail-